<!DOCTYPE html>
<html><head><meta charset="UTF-8"><link href="css/default.css" rel="stylesheet" type="text/css"><script src="js/jquery.min.js" type="text/javascript"></script><script src="js/page_effects.js" type="text/javascript"></script><title>ad-idp-api.client-app documentation</title></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html">Ad-idp-api 0.1.0-SNAPSHOT API documentation</a></h1></div><div class="sidebar" id="namespaces"><h3><a href="index.html"><span class="inner">Namespaces</span></a></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>ad-idp-api</span></div></div></li><li class="depth-2 branch"><a href="ad-idp-api.base64.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>base64</span></div></a></li><li class="depth-2 branch current"><a href="ad-idp-api.client-app.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>client-app</span></div></a></li><li class="depth-2"><a href="ad-idp-api.directory.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>directory</span></div></a></li><li class="depth-3"><a href="ad-idp-api.directory.dns.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>dns</span></div></a></li><li class="depth-2 branch"><a href="ad-idp-api.group.html"><div class="inner"><span class="tree" style="top: -52px;"><span class="top" style="height: 61px;"></span><span class="bottom"></span></span><span>group</span></div></a></li><li class="depth-2 branch"><a href="ad-idp-api.ldap-util.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>ldap-util</span></div></a></li><li class="depth-2 branch"><a href="ad-idp-api.password.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>password</span></div></a></li><li class="depth-2"><a href="ad-idp-api.user.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>user</span></div></a></li><li class="depth-3"><a href="ad-idp-api.user.flags.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>flags</span></div></a></li></ul></div><div class="sidebar" id="vars"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="ad-idp-api.client-app.html#var-authenticate-client"><div class="inner"><span>authenticate-client</span></div></a></li><li class="depth-1"><a href="ad-idp-api.client-app.html#var-client-attributes"><div class="inner"><span>client-attributes</span></div></a></li><li class="depth-1"><a href="ad-idp-api.client-app.html#var-create-client"><div class="inner"><span>create-client</span></div></a></li><li class="depth-1"><a href="ad-idp-api.client-app.html#var-delete-client"><div class="inner"><span>delete-client</span></div></a></li><li class="depth-1"><a href="ad-idp-api.client-app.html#var-generate-secret"><div class="inner"><span>generate-secret</span></div></a></li><li class="depth-1"><a href="ad-idp-api.client-app.html#var-ldap-.3Eclient"><div class="inner"><span>ldap-&gt;client</span></div></a></li><li class="depth-1"><a href="ad-idp-api.client-app.html#var-list-clients"><div class="inner"><span>list-clients</span></div></a></li><li class="depth-1"><a href="ad-idp-api.client-app.html#var-lookup-client"><div class="inner"><span>lookup-client</span></div></a></li><li class="depth-1"><a href="ad-idp-api.client-app.html#var-ou-attribute-map"><div class="inner"><span>ou-attribute-map</span></div></a></li><li class="depth-1"><a href="ad-idp-api.client-app.html#var-rename-client"><div class="inner"><span>rename-client</span></div></a></li><li class="depth-1"><a href="ad-idp-api.client-app.html#var-replace-secret"><div class="inner"><span>replace-secret</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h2 class="anchor" id="top">ad-idp-api.client-app</h2><div class="doc"><div class="markdown"></div></div><div class="public anchor" id="var-authenticate-client"><h3>authenticate-client</h3><div class="usage"><code>(authenticate-client d client secret)</code></div><div class="doc"><div class="markdown"><p>Verifies the provided secret against the client record, returning a boolean (<code>true</code> if the secret matches, <code>false</code> otherwise)</p><p><code>d</code> must be an LDAP connection <code>client</code> must be a client record as returned by <code>lookup-client</code></p></div></div><div class="src-link"><a href="https://github.com/lymingtonprecision/active-directory-idp-api/blob/mastersrc/ad_idp_api/client_app.clj#L72">view source</a></div></div><div class="public anchor" id="var-client-attributes"><h3>client-attributes</h3><div class="usage"></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/lymingtonprecision/active-directory-idp-api/blob/mastersrc/ad_idp_api/client_app.clj#L8">view source</a></div></div><div class="public anchor" id="var-create-client"><h3>create-client</h3><div class="usage"><code>(create-client d parent-dn name)</code><code>(create-client d parent-dn name url)</code></div><div class="doc"><div class="markdown"><p>Creates a new client entry in the directory and returns the resulting client record.</p><p>Only the clients <code>name</code> and <code>url</code> may be specified. The OAuth client ID and secret will be generated and included in the returned record.</p></div></div><div class="src-link"><a href="https://github.com/lymingtonprecision/active-directory-idp-api/blob/mastersrc/ad_idp_api/client_app.clj#L32">view source</a></div></div><div class="public anchor" id="var-delete-client"><h3>delete-client</h3><div class="usage"><code>(delete-client d c)</code></div><div class="doc"><div class="markdown"><p>Delete the given client from the directory <code>d</code> must be an LDAP connection and <code>c</code> an existing client record.</p></div></div><div class="src-link"><a href="https://github.com/lymingtonprecision/active-directory-idp-api/blob/mastersrc/ad_idp_api/client_app.clj#L101">view source</a></div></div><div class="public anchor" id="var-generate-secret"><h3>generate-secret</h3><div class="usage"><code>(generate-secret)</code></div><div class="doc"><div class="markdown"><p>Generates a new random string for use as a client secret</p></div></div><div class="src-link"><a href="https://github.com/lymingtonprecision/active-directory-idp-api/blob/mastersrc/ad_idp_api/client_app.clj#L25">view source</a></div></div><div class="public anchor" id="var-ldap-.3Eclient"><h3>ldap-&gt;client</h3><div class="usage"><code>(ldap-&gt;client r)</code></div><div class="doc"><div class="markdown"><p>Converts an LDAP attribute map to a client map Returns nil on nil or empty input</p></div></div><div class="src-link"><a href="https://github.com/lymingtonprecision/active-directory-idp-api/blob/mastersrc/ad_idp_api/client_app.clj#L13">view source</a></div></div><div class="public anchor" id="var-list-clients"><h3>list-clients</h3><div class="usage"><code>(list-clients d base-dn)</code></div><div class="doc"><div class="markdown"><p>Returns a seq of all clients defined in the directory</p></div></div><div class="src-link"><a href="https://github.com/lymingtonprecision/active-directory-idp-api/blob/mastersrc/ad_idp_api/client_app.clj#L51">view source</a></div></div><div class="public anchor" id="var-lookup-client"><h3>lookup-client</h3><div class="usage"><code>(lookup-client d base-dn id)</code></div><div class="doc"><div class="markdown"><p>Returns the client record for the specified client id, located under <code>base-dn</code> in the directory, or nil if no such client exists</p><p><code>d</code> must be a connection suitable for use in performing an LDAP search</p></div></div><div class="src-link"><a href="https://github.com/lymingtonprecision/active-directory-idp-api/blob/mastersrc/ad_idp_api/client_app.clj#L58">view source</a></div></div><div class="public anchor" id="var-ou-attribute-map"><h3>ou-attribute-map</h3><div class="usage"></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/lymingtonprecision/active-directory-idp-api/blob/mastersrc/ad_idp_api/client_app.clj#L11">view source</a></div></div><div class="public anchor" id="var-rename-client"><h3>rename-client</h3><div class="usage"><code>(rename-client d c new-name)</code></div><div class="doc"><div class="markdown"><p>Renames the client and returns it&rsquo;s updated client record. <code>d</code> must be an LDAP connection and <code>c</code> the existing client record.</p></div></div><div class="src-link"><a href="https://github.com/lymingtonprecision/active-directory-idp-api/blob/mastersrc/ad_idp_api/client_app.clj#L90">view source</a></div></div><div class="public anchor" id="var-replace-secret"><h3>replace-secret</h3><div class="usage"><code>(replace-secret d c)</code></div><div class="doc"><div class="markdown"><p>Replaces the clients secret with a newly generated one and returns the updated client record. <code>d</code> must be an LDAP connection and <code>c</code> the existing client record.</p></div></div><div class="src-link"><a href="https://github.com/lymingtonprecision/active-directory-idp-api/blob/mastersrc/ad_idp_api/client_app.clj#L81">view source</a></div></div></div></body></html>